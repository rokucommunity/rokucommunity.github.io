---
date: May 2024
summary: Changes to vscode-brightscript-language, brighterscript, roku-deploy, roku-debug, brighterscript-formatter, bslint, ropm, brs
layout: ../../layouts/WhatsNewPost.astro
---
# Overview
Welcome to the May 2024 edition of "What's New in RokuCommunity." Please consider <a target="_blank" href="https://rokucommunity.substack.com/">subscribing</a> to stay up to date with what's happening in RokuCommunity.

## We need your help
The RokuCommunity projects are maintained by a relatively small group of developers (mostly volunteers), and we have a growing list of unresolved issues. We need your help! There are many different ways you can contribute. Whether it's addressing bugs, improving documentation, introducing new features, or simply helping us manage our expanding list of GitHub issues, your involvement would be greatly appreciated. We are more than happy to guide you in finding the most suitable contribution method that aligns with your interests. To learn more about how you can contribute, feel free to reach out to us on [Slack](https://join.slack.com/t/rokudevelopers/shared_invite/zt-4vw7rg6v-NH46oY7hTktpRIBM_zGvwA), or explore the existing GitHub issues:

-   [vscode-brightscript-language](https://github.com/rokucommunity/vscode-brightscript-language/issues)
-   [brighterscript](https://github.com/rokucommunity/brighterscript/issues)
-   [brighterscript-formatter](https://github.com/rokucommunity/brighterscript-formatter/issues)
-   [roku-deploy](https://github.com/rokucommunity/roku-deploy/issues)
-   [roku-debug](https://github.com/rokucommunity/roku-debug/issues)
-   [bslint](https://github.com/rokucommunity/bslint/issues)
-   [ropm](https://github.com/rokucommunity/ropm/issues)
-   [brs](https://github.com/rokucommunity/brs/issues)
-   [roku-report-analyzer](https://github.com/rokucommunity/roku-report-analyzer/issues)
-   [@rokucommunity/promises](https://github.com/rokucommunity/promises/issues)
-   [roku-http](https://github.com/rokucommunity/roku-http)

# Editor
## Add Roku REPL panel
<!-- 2024-04-24 (for v2.48.2 released on 2024-05-17), https://github.com/RokuCommunity/vscode-brightscript-language/pull/564 -->
We've added a new panel called "BrightScript REPL", which enables you to run arbitrary brs code on-device (as long as the dev channel is running and RDB is active). This can be incredibly useful for running code when _not_ stopped at a breakpoint in the debugger. The way it works is by embedding the REPL code into a small component library and then executing the code from that component library, with some help from the [RTA on-device component](https://github.com/triwav/roku-test-automation?tab=readme-ov-file#ondevicecomponent).

![Apr-24-2024 11-24-20](https://github.com/rokucommunity/vscode-brightscript-language/assets/1753881/56fc10ef-9d15-4370-b649-ad8eeab3f6dc)

## Adds syntax highlighting for `alias` statements
<!-- 2024-05-13 (for v2.48.2 released on 2024-05-17), https://github.com/RokuCommunity/vscode-brightscript-language/pull/567 -->
We added syntax highlighting support for the new [alias statement](https://github.com/rokucommunity/brighterscript/pull/1151) added in the BrighterScript v1 alphas. The alias statement helps mitigate issues when shadowed variables and name collisions.

Before:
![image](https://github.com/rokucommunity/vscode-brightscript-language/assets/2544493/e6d1a05f-461c-445b-8212-7eba5264865c)

After:
![image](https://github.com/rokucommunity/vscode-brightscript-language/assets/2544493/7bd5b2dc-ecc3-42c5-9dd3-6c133a70354a)


## Fix bugs in the language server version picker
<!-- 2024-05-16 (for v2.48.2 released on 2024-05-17), https://github.com/RokuCommunity/vscode-brightscript-language/pull/568 -->
We fixed a crash in the brighterscript version picker whenever `${workspaceFolder}/node_modules/brighterscript` wasn't found. Now it gracefully recovers and shows the picker _minus_ the node_modules version if missing.

![image](https://github.com/rokucommunity/vscode-brightscript-language/assets/2544493/ad3207a4-cb6d-4ca4-820d-6f2dcfb4acb3)


We also changed `brightscript.bsdk` to always store the path using forward slashes so the value works cross-platform.

![image](https://github.com/user-attachments/assets/388174cc-7f6f-4b31-a4bc-b9566d24b778)



## Fix broken device view
<!-- 2024-05-20 (for v2.48.3 released on 2024-05-20), https://github.com/RokuCommunity/vscode-brightscript-language/pull/570 -->

We fixed a bug in the Roku Device View panel that had broken some time in the past month. It was completely non-functional, so this update resolved that issue and now it's operational again.

![image](https://github.com/user-attachments/assets/901fcc95-56d9-4453-bd96-e0a877ce13f9)

## Improve "Connect manually" UI layout
<!-- 2024-05-20 (for v2.48.3 released on 2024-05-20), https://github.com/RokuCommunity/vscode-brightscript-language/pull/570 -->
Improves the "connect manually" section of many of our Roku panels. We updated the UI to leverage the standard vscode themed inputs and UI elements, so this section should now feel more in sync with the rest of the VSCode UI.

**Before:**
![image (4)](https://github.com/rokucommunity/vscode-brightscript-language/assets/2544493/b6d9e9b1-b174-4299-a0e0-90c659506293)

**After:**
![image (5)](https://github.com/rokucommunity/vscode-brightscript-language/assets/2544493/371a77c1-9494-4db0-a797-55fbcec5743b)


# BrighterScript

## Resolve `stagingDir` relative to the bsconfig.json file
<!-- 2024-05-07 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1148 -->
This month we updated the `stagingDir` BrighterScript option to resolve relative to `bsconfig.json` it was defined in. This is technically a breaking change, but we don't believe many developers will be impacted since this was _mostly_ an issue with ancestor `bsconfig.json` files used via the `extends` bsconfig option. This change allows ancestor `bsconfig.json` files to specify stagingDir relative to themselves rather than needing additional knowledge about where the child `bsconfig.json` would be located.

Here's an example. Given the two `bsconfig.json` files below:
1. **./node_modules/shared-config/bsconfig.json**
```json
  "rootDir": "../../src",
  "stagingDir": "../../build"
```

2. **./bsconfig.json**
```json
{
  "extends": "./node_modules/shared-config/bsconfig.json",
}
```

The new results would be:

```bash
$ rootDir: {cwd-dir}/src
$ stagingDir: {cwd-dir}/build
```

## Move function calls to separate diagnostic
<!-- 2024-05-09 (for v0.67.0 released on 2024-05-10), https://github.com/RokuCommunity/brighterscript/pull/1169 -->

We moved `cannot find name` (`1001`) diagnostics for function calls into their own diagnostic code (`1140`).

We've found that the biggest pain point when a new development team starts using the VSCode extension is there are functions called in a utility file that are only imported by _some_ of the scopes that use that utility file. This often results in diagnostics like "`Cannot find name 'testFunction'. Not defined in scope 'components\SomeComponent.xml'`. While the diagnostic is technically valid, typically developers have already tested their code and know that logically these functions will only be called in safe situations. Unfortunately the brighterscript compiler is unable to determine this, so we feel it's better to show a diagnostic.

By splitting up `"cannot find variable"` and `"cannot find function"` concepts into separate diagnostic codes, this will allow dev teams to more slowly migrate to "best practices" in their projects by ignoring code the function diagnostic `1140` without also losing the benefits of still being warned about using unknown variables.

**Before:**
![image](https://github.com/rokucommunity/brighterscript/assets/2544493/3dc02691-48af-4abf-ae5b-0f7d3eebf70d)

**After:**
![image](https://github.com/rokucommunity/brighterscript/assets/2544493/05adf3b9-88f6-4c9b-9b48-6e056adc0567)


## Fix crash when diagnostic is missing range
<!-- 2024-05-10 (for v0.67.1 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1174 -->
We fixed a crash during the brighterscript transpile process when certain diagnostics were missing ranges. BrighterScript always includes a range in the diagnostics it produces so these were typcially bugs in plugins. We still don't want it crashing, so in these situations we will print the message and omit the missing range.

![image](https://github.com/user-attachments/assets/085461a7-8e26-4d56-adbb-fe05f1c6b28b)


# Community Tools

## bslint

### Brighterscript Alpha 29 & 30 updates
<!-- 2024-05-16 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/bslint/pull/109 -->
<!-- 2024-05-17 (for v0.8.21 released on 2024-05-17), ([0ed0693](https://github.com/RokuCommunity/bslint/commit/0ed0693)) -->
To align with the BrighterScript alpha releases `alpha.29` and `alpha.30`, we've fixed a few bugs caused by breaking changes.
- Use DiagnosticManager to add diagnostics
- Update walk for comments

As we stated a [few months ago](https://rokucommunity.github.io/whats-new/2024-02-February/#support-for-latest-brighterscript-alphas), every version of bslint v1 alpha aligns with a corresponding brighterscript alpha, so be sure you're keeping those versions in sync.

## brs
### Added colorization and commands `help`, `clear` and `vars`
<!-- 2024-03-30 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/49 -->
We added colorization to the brs emulator when run via the terminal, as well as some new commands such as `help`, `clear`, and `vars`

<img width="857" alt="Untitled" src="https://github.com/rokucommunity/brs/assets/16841645/ea54bc4b-5db6-44b0-84a1-17f458f468ee">


## Support bitwise `NOT` for numeric values
<!-- 2024-04-01 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/51 -->
We added support for the bitwise `NOT` when used preceeding numeric values. Check out [brs#51](https://github.com/RokuCommunity/brs/pull/51) and [brs#23](https://github.com/rokucommunity/brs/issues/23) for more information.

Prior to this change:
```bash
brs> print not  0
REPL(1,6-9): Attempting to NOT non-boolean value.
                            value type: Integer
brs> print not  1
REPL(1,6-9): Attempting to NOT non-boolean value.
                            value type: Integer
brs> print not -1
REPL(1,6-9): Attempting to NOT non-boolean value.
                            value type: Integer
brs> print not  2
REPL(1,6-9): Attempting to NOT non-boolean value.
                            value type: Integer
brs> print not -2
REPL(1,6-9): Attempting to NOT non-boolean value.
                            value type: Integer
brs>
```

And now with the change, the output aligns with what the actual Roku device would produce:
```bash
brs> print not  0
-1
brs> print not  1
-2
brs> print not -1
 0
brs> print not  2
-3
brs> print not -2
 1
brs>
```


## Implemented `roPath` component and fixed Interpreter Comparisons
<!-- 2024-04-01 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/50 -->
We added several fixes to more closely align the emulator with the brightscript runtime:

- Added component `roPath`
- Fixed Interpreter comparison logic (in `VisitBinary`) to match Roku behavior, throw error with Type Mismatch
- Fixed Interpreter `AND` and `OR` to properly compare Boolean and Numbers

Prior to this change:
```bash
brs> print 1 and true
REPL(1,6-16): Attempting to bitwise 'and' number with non-numberic value
    left: Integer
    right: Boolean
```

And now:
```bash
brs> print 1 and true
true
```


## Implemented `roByteArray` component
<!-- 2024-04-03 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/53 -->

Implemented the byte array that is base for several other missing components.
This PR closes #4


## Implemented `Box()` function and improved boxing
<!-- 2024-04-03 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/54 -->

The boxed Numbers and Boolean were not being properly handled, was not possible to compare or make arithmetic operations among them nor with intrinsic values. Now is fixed.

This PR closes #7 and #18


## Implemented `slice()` method in `roArray` under `ifArraySlice`
<!-- 2024-04-03 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/61 -->

This is not documented but is on BrightScript since at least OS 9.1


## Implement `ifArraySizeInfo` in `roArray`
<!-- 2024-04-04 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/62 -->

Besides the new interface on `roArray` also improved exception handling when calling the components constructor, allowing the component to not be created if wrong parameters are passed, making `CreateObject()` return invalid on those cases.
This PR closes #63


## Fixed `print` semi-colon behavior
<!-- 2024-04-17 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/67 -->

Fixes:
- Print was adding a space when semi-colon was used in `print` statement
- Fixed Windows CLI test


## Fixed Unit Tests `.todo` and `.skip`
<!-- 2024-04-29 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/71 -->

The `roString`  behavior was not consistent with Roku, fixed the edge cases.


## Fix `roDeviceInfo` method typo and some test cases
<!-- 2024-04-29 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/69 -->

- The method `getAudioDecodeInfo` was wrongly spelled, and `getSupportedGraphicsResolutions` was returning an AA when the correct is a `roArray`.
- Skipped one `roXMLElement` test case that is not behaving as Roku, the implementation is wrong, to be fixed later when `roXMLList` is implemented.
- Renamed `Timespan.test.js` to `RoTimeSpan.test.js` to match the standard of other tests


## Implemented `Continue For/While` statements
<!-- 2024-04-30 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/70 -->




## Implement `try...catch` and `throw`
<!-- 2024-05-01 (for v0.46.0 released on 2024-05-01), https://github.com/RokuCommunity/brs/pull/72 -->

Multiple changes:
- Finished implementation of `Try...Catch`
- Implemented `Throw`
- Improved the Stack Trace generation
- Updated Runtime error messages to match Roku


## roku-deploy
## Small tweaks to zip
<!-- 2024-04-16 (for v4.0.0-alpha.1 released on 2024-05-17), ([b738829](https://github.com/RokuCommunity/roku-deploy/commit/b738829)) -->




## Merge master to v4
<!-- 2024-04-30 (for v4.0.0-alpha.1 released on 2024-05-17), https://github.com/RokuCommunity/roku-deploy/pull/163 -->

merging master, was tricky during the process so making a PR


## Change documentation
<!-- 2024-05-01 (for v4.0.0-alpha.1 released on 2024-05-17), https://github.com/RokuCommunity/roku-deploy/pull/162 -->




## fix-node14
<!-- 2024-05-03 (for v4.0.0-alpha.1 released on 2024-05-17), https://github.com/RokuCommunity/roku-deploy/pull/165 -->




## Update files array
<!-- 2024-05-06 (for v4.0.0-alpha.1 released on 2024-05-17), https://github.com/RokuCommunity/roku-deploy/pull/164 -->




## merge master for github architecture latest changes
<!-- 2024-05-06 (for v4.0.0-alpha.1 released on 2024-05-17), ([8aa6800](https://github.com/RokuCommunity/roku-deploy/commit/8aa6800)) -->




## No changes made:
<!-- 2024-05-07 (for v4.0.0-alpha.1 released on 2024-05-17), ([0534143](https://github.com/RokuCommunity/roku-deploy/commit/0534143)) -->




## Enhanced logging levels
<!-- 2024-05-15 (for v4.0.0-alpha.1 released on 2024-05-17), https://github.com/RokuCommunity/roku-deploy/pull/168 -->

#46


## Add new v4 section and table of contents
<!-- 2024-05-16 (for v4.0.0-alpha.1 released on 2024-05-17), https://github.com/RokuCommunity/roku-deploy/pull/166 -->

Closes #121


## ropm
## Fix some spelling mistakes in readme
<!-- 2024-04-18 (for v0.10.24 released on 2024-05-17), ([362fb83](https://github.com/RokuCommunity/ropm/commit/362fb83)) -->




## fix node14
<!-- 2024-05-03 (for v0.10.24 released on 2024-05-17), https://github.com/RokuCommunity/ropm/pull/74 -->




## Fixing issues before release 0.10.24
<!-- 2024-05-17 (for v0.10.24 released on 2024-05-17), ([4b29f17](https://github.com/RokuCommunity/ropm/commit/4b29f17)) -->





# Community Libraries


# Formatting

## fix-node14
<!-- 2024-05-03 (for v1.7.2 released on 2024-05-17), https://github.com/RokuCommunity/brighterscript-formatter/pull/91 -->




## Fixing issues before release 1.7.2
<!-- 2024-05-17 (for v1.7.2 released on 2024-05-17), ([239ba44](https://github.com/RokuCommunity/brighterscript-formatter/commit/239ba44)) -->





# Preview features
<!-- any alpha/beta changes across all projects should be documented here and not in their primary area above-->

## BrighterScript


### Fix bug in range and position caching
<!-- 2024-04-01 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1127 -->

https://github.com/rokucommunity/brighterscript/issues/1104



### Removes diagnostic on accessing unknown member of roAssociativeArray
<!-- 2024-04-23 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1143 -->

Look ma, no diagnostics:

```
program.setFile<BrsFile>('source/aa.bs', `
    sub foo(someAA as roAssociativeArray)
          print someAA.whatever.whatever
    end sub
`);
program.validate();
expectZeroDiagnostics(program);
```

### Adds `typecast m as <Type>` statement
<!-- 2024-04-24 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1140 -->

Adds ability to add a single statement to beginning of file or function, and every usage of `m` in that or lower scopes will be typecast as the type given.

Syntax:

```
typecast m as <type>
```

eg:
```
import "types.bs"
typecast m as Thing1

sub func1()
    x = m.value ' x is type of Thing1.value
    print x
end sub

sub func2()
    typecast m as Thing2
    x = m.value  ' x is type of Thing2.value
    print x
end sub

sub func3()
    aa = {
        innerFunc: sub()
            typecast m as Thing3
            x = m.value  ' x is type of Thing3.value
            print x
        end sub
    }
end sub

class TestKlass
    value as string

    sub method1()
        x = m.value ' x is type of TestKlass.value
        print x
    end sub

    sub method2()
        typecast m as Thing1
        x = m.value  ' x is type of Thing1.value
        print x
    end sub
end class

```


### Typecast symbols are not merged to other namespaces
<!-- 2024-04-24 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1144 -->

In namespace statement with typecast:
![image](https://github.com/rokucommunity/brighterscript/assets/810290/13174370-9569-4778-af2a-07c28e4b627c)

in sibling namespace statement without typecast:
![image](https://github.com/rokucommunity/brighterscript/assets/810290/f1fe129d-1a3b-422b-84e8-f87f4d01df2e)


### Fixes CompletionItemKinds for typed variables
<!-- 2024-04-24 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1145 -->

Fixes #1133

All variables that are Classes, Interfaces, Enum, functions, etc. will be displayed as variables.



## Revert range and column caching
<!-- 2024-04-25 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1147 -->

Turns out #940 actually slowed down performance. It's faster to just make new `Range` and `Location` objects directly. V8 does a great job optimizing this flow.

Caching enabled on `local`:
![image](https://github.com/rokucommunity/brighterscript/assets/2544493/1afa40d8-6207-4539-a341-596859eb2d8b)

Caching disabled on `local`:
![image](https://github.com/rokucommunity/brighterscript/assets/2544493/29593c8f-d293-4cb5-a2ca-1c0ad7796c3b)




## Fixes includes in self closing components
<!-- 2024-04-30 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1150 -->

There was an issue in XML transpilation where self-closed elements that later had child elements added to them would not have those child elements transpiled.

Fixes #1146




## Diagnostics Refactor: DiagnosticManager
<!-- 2024-05-06 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1136 -->

Refactors Diagnostics so *ALL* diagnostics need to be registered through `DiagnosticManager` , publically available through `Program`

DiagnosticManager has the following features:

- a single diagnostic can be attached to multiple contexts
- contexts optionally include scope, tags or particular Ast Nodes
- if the same diagnostic is registered with a different scope context, it is added a related information
- individual diagnostic contexts can be cleared - if all the contexts are cleared for a diagnostic, then the diagnostic is automatically removed.



## `CreateObject` function call implies correct return type
<!-- 2024-05-06 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1154 -->

Previously, everything returned from `createObject` was `ObjectType`

Now, it looks at the arguments, and if passed string literals, it is able to infer either the built-in Component/Object or a custom component:


```brighterscript
dateTime = createObject("roDatetime") ' this is the InterfaceType `roDateTime`
dateTime.getHours() ' this is an integer


button = createObject("roSgnode", "Poster") '  this is the ComponentType `roSgNodePoster`
button.uri ' this is a string
```


if the args are not string literals, it still just returns ObjectType....

```brighterscript
function getObject(objectName as string)
    return createObject(objectName) ' this is just ObjectType
end function
```


## Adds `Alias` Statement
<!-- 2024-05-06 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1151 -->

This is pretty cool!

`alias` provides a way to work around variable name shadowing... but as a side effect, it also give a way to shorthand just about any property/function you want.



```BrighterScript
alias get2 = get

namespace http
    'Do an HTTP request
    sub get()
        print get2.aa().data 'using `get2` aliased symbol here. it's now clear which item we intended to use
    end sub
end namespace

namespace get
    function aa()
        return {
            data: "abc"
        }
    end function
end namespace
```

transpiles to

```BrightScript
sub http_get()
    print get_aa().data
end sub

sub get_aa()
    return {
        data: "abc"
    }
end sub
```



it also allows this ... which is cool?:

```
alias lc = lcase
alias co = createObject

sub getModelTypeLower()
   lc(co("roDeviceInfo").getModelType())
end sub
```


it also allows this ... which is also cool?:

```
alias abgdz = alpha.beta.gamma.delta.zeta

sub foo()
   print abgdz.someConst
end sub
```



## Add AstNode visitor function for createVisitor
<!-- 2024-05-06 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1138 -->

Allows:
```
const { ast } = Parser.parse(`
    sub main()
       'comment
       print "hello"
    end sub
`);
ast.walk(createVisitor({
    CommentToken: (comment, parent, owner, key) => {
        console.log(comment.text); // prints "'comment"
    }
}), {
    walkMode: WalkMode.visitAllRecursive | WalkMode.visitComments
});
```



## Fixes issue with default params referencing previous ones
<!-- 2024-05-08 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1161 -->

Fixes #1160



## Adds `roSgNodeContentNode` fields
<!-- 2024-05-08 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1159 -->

Also:

- adds missing fields to `Video` node
- fixes descriptions when the first line is `Available Since Roku OS ..."
- better infers types coming from Roku docs, especially when a field is another Component type



## Fix roDateTime compatibility issue
<!-- 2024-05-08 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1163 -->

Types would get messed up if there were duplicate definitions of members.

This could happen from the scraper.

This pr fixes the scraper so that it fixes all the overloaded methods in interfaces automatically.

fixes: #1162


these are all the overloads the scraper fixed automatically on last run:


```
Fixed overloaded method ifAudioResource.trigger
Fixed overloaded method ifByteArray.writefile
Fixed overloaded method ifByteArray.readfile
Fixed overloaded method ifByteArray.appendfile
Fixed overloaded method ifByteArray.getcrc32
Fixed overloaded method ifDateTime.toisostring
Fixed overloaded method ifDraw2D.drawscaledobject
Fixed overloaded method ifFontRegistry.getdefaultfont
Fixed overloaded method ifSGNodeField.observefield
Fixed overloaded method ifSGNodeField.observefieldscoped
Fixed overloaded method ifStringOps.mid
Fixed overloaded method ifStringOps.instr
Fixed overloaded method ifStringOps.startswith
Fixed overloaded method ifStringOps.endswith
Fixed overloaded method ifToStr.tostr
Fixed overloaded method ifVideoPlayer.setdestinationrect
```

## Hovers on LHS of assignments do symbol type lookups
<!-- 2024-05-09 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1165 -->

Previously, the type displayed on an assignment was the type of the RHS expression.

This changes that so it does a symbolTable lookup for the token on the LHS.

Symbol table type lookups return a union type of all assigned types for that symbol.

It is bad code style to use the same variable name for different types! We need to add that to BSLint.


## Fixes union type issues with unknown members
<!-- 2024-05-10 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1170 -->

- Adds extra detail to `cannotFindName` diagnostic to say what it cannot find the name in
- If a union type is in a Brighterscript file, it will act like a Dynamic type
- Removes functionExpression body symbol table, in favor of single symbol table that also includes the params. (I think this solves #1167)


## Adds roSGNode Update() overload
<!-- 2024-05-10 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1173 -->

I had to manually add this one in...

![image](https://github.com/rokucommunity/brighterscript/assets/810290/60f066fc-4a84-4325-99c4-21d7b35e7d18)



## Fix several lsp crashes for v1
<!-- 2024-05-10 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1175 -->

Fix several crashes in the language server related to missing range or AST properties.


## Merge master into v1
<!-- 2024-05-13 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1177 -->

The master ->release-1.0.0 merge was a bit busy, so this is a dedicated PR to help with reviewing the changes to ensure that everything was done properly.

**Extra changes:**
- added `astNode` to the TypeChain so we could better support `cannotFindFunction` diagnostics introduced recently in master

TODO:

- [x] fix a few more broken unit tests



## Adds `AstNode.getEndTrivia()`
<!-- 2024-05-14 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1184 -->

Solves #1181

This allows access to the trivia at the end of a block when walking the AST



## Added extra DiagnosticManager.register() overload
<!-- 2024-05-14 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1185 -->

adds:

```
public register(diagnostics: Array<BsDiagnostic>, context?: DiagnosticContext);
```

useful for adding a bunch of diagnostics, all having the same context


## Allows numbers to be passed to a function that takes a bool
<!-- 2024-05-14 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1179 -->

Fixes #1168


## Adds Conditional Compilation Statements to the AST
<!-- 2024-05-15 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1149 -->

Conditional compile directives (`#if`, `#const`, `#error`, etc.) are now part of the AST, and as such, the branches of the condition compiles can be walked.

There is one concession with this: `#if` blocks are treated as any other block, and everything in them must be self contained, or will cause a diagnostic.

That means that even though this is allowed in Brightscript:
```
sub foo()
# if true
end sub
#end if
```

it will cause some diagnostics, because the `sub foo()` is partially inside and outside the `#if` statement


- [x] TODO - Add some walk mode options that allow walking the tree based on true/false const values.


- [x] Support `#if not <bs_const>` #1158


Addresses #1023



## Adds `isInstance` flag
<!-- 2024-05-15 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1187 -->

Adds the `isInstance` flag on symbol extra data for when a symbol represents an instance of a type.

This is useful for walking all variable expressions, and being able to check if that expression is an instance of the type or a reference to the actual type (or class constructor).


eg:

```
class Klass
end class

sub test(k as Klass)  ' k is an instance, Klass is not, but both are of ClassType("klass")
end sub
```



## Alias Completions Fixes
<!-- 2024-05-15 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1188 -->

Fixes Alias completions - adds aliases to the general completions, and allows completion on RHS of alias statement


Fixes #1180




## Alias semantic tokens
<!-- 2024-05-15 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1183 -->

Adds semantic tokens to aliases as they flow downstream through the program.

![image](https://github.com/rokucommunity/brighterscript/assets/2544493/5441ceff-c6d0-4f2b-9638-3ca6b161eb90)

- [x] Fix some bugs with aliased functions not having the correct colors because we can't look them up with their global names since the alias name is there.




# Documentation

# Misc

# For Contributors

## Upgrade BrighterScript to @rokucommunity/logger
<!-- 2024-04-17 (for v0.67.0 released on 2024-05-10), https://github.com/RokuCommunity/brighterscript/pull/1137 -->
<!-- 2024-05-09 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1171 -->
<!-- 2024-05-15 (for v0.67.1 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1189 -->
A few years ago RokuCommunity released our own NodeJS logging library called [@rokucommunity/logger](https://www.npmjs.com/package/@rokucommunity/logger). BrighterScript had been operating for a while with its own logger, so this month we took the opportunity to upgrade to the RokuCommunity logger. The logger output is identical, so there should be minimal issues with this upgrade.


## Fix node14 issues
<!-- 2024-05-03 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1153 -->

Fix bug with node14 on macos-latest arm64


## Fix node14 bug on mac
<!-- 2024-05-03 (for v1.0.0-alpha.30 released on 2024-05-16), https://github.com/RokuCommunity/brighterscript/pull/1152 -->

Fix bug with node14 on macos-latest arm64
## fix node14
<!-- 2024-05-03 (for v0.8.21 released on 2024-05-17), https://github.com/RokuCommunity/bslint/pull/106 -->


# Thank you

Last but certainly not least, a big **_Thank You_** to the following people who contributed this month:

Contributions to [vscode-brightscript-language](https://github.com/RokuCommunity/vscode-brightscript-language):

-   [@triwav (Brian Leighty)](https://github.com/triwav)
    -   Add on device brightscript repl ([PR #564](https://github.com/RokuCommunity/vscode-brightscript-language/pull/564))
    -   Fix bug that prevented accessing global in scenegraph inspector, prevent duplicate requests for same node ([PR #565](https://github.com/RokuCommunity/vscode-brightscript-language/pull/565))
    -   Fix broken device view and Improve manual ip address component ([PR #570](https://github.com/RokuCommunity/vscode-brightscript-language/pull/570))
-   [@TwitchBronBron (Bronley Plumb)](https://github.com/TwitchBronBron)
    -   Bump node version to 18 ([PR #566](https://github.com/RokuCommunity/vscode-brightscript-language/pull/566))
    -   Adds syntax highlighting for `alias` statements ([PR #567](https://github.com/RokuCommunity/vscode-brightscript-language/pull/567))
    -   Fix bugs in the language server version picker ([PR #568](https://github.com/RokuCommunity/vscode-brightscript-language/pull/568))

Contributions to [brighterscript](https://github.com/RokuCommunity/brighterscript):

-   [@bartvandenende-wm (Bart van den Ende)](https://github.com/bartvandenende-wm)
    -   fix: resolve the stagingDir option relative to the bsconfig.json file ([PR #1148](https://github.com/RokuCommunity/brighterscript/pull/1148))
-   [@fumer-fubotv (fumer-fubotv)](https://github.com/fumer-fubotv)
    -   Fix bug in range and position caching ([PR #1127](https://github.com/RokuCommunity/brighterscript/pull/1127))
-   [@markwpearce (Mark Pearce)](https://github.com/markwpearce)
    -   Removes diagnostic on accessing unknown member of roAssociativeArray ([PR #1143](https://github.com/RokuCommunity/brighterscript/pull/1143))
    -   Adds `typecast m as <Type>` statement ([PR #1140](https://github.com/RokuCommunity/brighterscript/pull/1140))
    -   Typecast symbols are not merged to other namespaces ([PR #1144](https://github.com/RokuCommunity/brighterscript/pull/1144))
    -   Fixes CompletionItemKinds for typed variables ([PR #1145](https://github.com/RokuCommunity/brighterscript/pull/1145))
    -   Fixes includes in self closing components ([PR #1150](https://github.com/RokuCommunity/brighterscript/pull/1150))
    -   Diagnostics Refactor: DiagnosticManager ([PR #1136](https://github.com/RokuCommunity/brighterscript/pull/1136))
    -   `CreateObject` function call implies correct return type ([PR #1154](https://github.com/RokuCommunity/brighterscript/pull/1154))
    -   Adds `Alias` Statement ([PR #1151](https://github.com/RokuCommunity/brighterscript/pull/1151))
    -   Add AstNode visitor function for createVisitor ([PR #1138](https://github.com/RokuCommunity/brighterscript/pull/1138))
    -   Fixes issue with default params referencing previous ones ([PR #1161](https://github.com/RokuCommunity/brighterscript/pull/1161))
    -   Adds `roSgNodeContentNode` fields ([PR #1159](https://github.com/RokuCommunity/brighterscript/pull/1159))
    -   Fix roDateTime compatibility issue ([PR #1163](https://github.com/RokuCommunity/brighterscript/pull/1163))
    -   Hovers on LHS of assignments do symbol type lookups ([PR #1165](https://github.com/RokuCommunity/brighterscript/pull/1165))
    -   Fixes union type issues with unknown members ([PR #1170](https://github.com/RokuCommunity/brighterscript/pull/1170))
    -   Adds roSGNode Update() overload ([PR #1173](https://github.com/RokuCommunity/brighterscript/pull/1173))
    -   Allows numbers to be passed to a function that takes a bool ([PR #1179](https://github.com/RokuCommunity/brighterscript/pull/1179))
    -   Adds `AstNode.getEndTrivia()` ([PR #1184](https://github.com/RokuCommunity/brighterscript/pull/1184))
    -   Added extra DiagnosticManager.register() overload ([PR #1185](https://github.com/RokuCommunity/brighterscript/pull/1185))
    -   Adds Conditional Compilation Statements to the AST ([PR #1149](https://github.com/RokuCommunity/brighterscript/pull/1149))
    -   Adds `isInstance` flag ([PR #1187](https://github.com/RokuCommunity/brighterscript/pull/1187))
    -   Alias Completions Fixes ([PR #1188](https://github.com/RokuCommunity/brighterscript/pull/1188))
-   [@TwitchBronBron (Bronley Plumb)](https://github.com/TwitchBronBron)
    -   Upgrade to @rokucommunity/logger ([PR #1137](https://github.com/RokuCommunity/brighterscript/pull/1137))
    -   Revert range and column caching ([PR #1147](https://github.com/RokuCommunity/brighterscript/pull/1147))
    -   Fix node14 issues ([PR #1153](https://github.com/RokuCommunity/brighterscript/pull/1153))
    -   Fix node14 bug on mac ([PR #1152](https://github.com/RokuCommunity/brighterscript/pull/1152))
    -   Move function calls to separate diagnostic ([PR #1169](https://github.com/RokuCommunity/brighterscript/pull/1169))
    -   Fix formatting with logger output ([PR #1171](https://github.com/RokuCommunity/brighterscript/pull/1171))
    -   Fix crash when diagnostic is missing range ([PR #1174](https://github.com/RokuCommunity/brighterscript/pull/1174))
    -   Fix several lsp crashes for v1 ([PR #1175](https://github.com/RokuCommunity/brighterscript/pull/1175))
    -   Merge master into v1 ([PR #1177](https://github.com/RokuCommunity/brighterscript/pull/1177))
    -   Logger nocolor ([PR #1189](https://github.com/RokuCommunity/brighterscript/pull/1189))
    -   Alias semantic tokens ([PR #1183](https://github.com/RokuCommunity/brighterscript/pull/1183))

Contributions to [roku-deploy](https://github.com/RokuCommunity/roku-deploy):

-   [@MilapNaik (Milap Naik)](https://github.com/MilapNaik)
    -   Merge master to v4 ([PR #163](https://github.com/RokuCommunity/roku-deploy/pull/163))
    -   Change documentation ([PR #162](https://github.com/RokuCommunity/roku-deploy/pull/162))
    -   Update files array ([PR #164](https://github.com/RokuCommunity/roku-deploy/pull/164))
    -   merge master for github architecture latest changes ([8aa6800](https://github.com/RokuCommunity/roku-deploy/commit/8aa6800))
    -   No changes made: ([0534143](https://github.com/RokuCommunity/roku-deploy/commit/0534143))
    -   Enhanced logging levels ([PR #168](https://github.com/RokuCommunity/roku-deploy/pull/168))
    -   Add new v4 section and table of contents ([PR #166](https://github.com/RokuCommunity/roku-deploy/pull/166))
-   [@TwitchBronBron (Bronley Plumb)](https://github.com/TwitchBronBron)
    -   Small tweaks to zip ([b738829](https://github.com/RokuCommunity/roku-deploy/commit/b738829))
    -   fix-node14 ([PR #165](https://github.com/RokuCommunity/roku-deploy/pull/165))

Contributions to [roku-debug](https://github.com/RokuCommunity/roku-debug):

-   [@TwitchBronBron (Bronley Plumb)](https://github.com/TwitchBronBron)
    -   fix node14 ([PR #188](https://github.com/RokuCommunity/roku-debug/pull/188))
    -   Fixing issues before release 0.21.8 ([756824a](https://github.com/RokuCommunity/roku-debug/commit/756824a))

Contributions to [brighterscript-formatter](https://github.com/RokuCommunity/brighterscript-formatter):

-   [@TwitchBronBron (Bronley Plumb)](https://github.com/TwitchBronBron)
    -   fix-node14 ([PR #91](https://github.com/RokuCommunity/brighterscript-formatter/pull/91))
    -   Fixing issues before release 1.7.2 ([239ba44](https://github.com/RokuCommunity/brighterscript-formatter/commit/239ba44))

Contributions to [bslint](https://github.com/RokuCommunity/bslint):

-   [@markwpearce (Mark Pearce)](https://github.com/markwpearce)
    -   Brighterscript Alpha 29/30 updates ([PR #109](https://github.com/RokuCommunity/bslint/pull/109))
-   [@TwitchBronBron (Bronley Plumb)](https://github.com/TwitchBronBron)
    -   fix node14 ([PR #106](https://github.com/RokuCommunity/bslint/pull/106))
    -   Fixing issues before release 0.8.21 ([0ed0693](https://github.com/RokuCommunity/bslint/commit/0ed0693))

Contributions to [ropm](https://github.com/RokuCommunity/ropm):

-   [@TwitchBronBron (Bronley Plumb)](https://github.com/TwitchBronBron)
    -   Fix some spelling mistakes in readme ([362fb83](https://github.com/RokuCommunity/ropm/commit/362fb83))
    -   fix node14 ([PR #74](https://github.com/RokuCommunity/ropm/pull/74))
    -   Fixing issues before release 0.10.24 ([4b29f17](https://github.com/RokuCommunity/ropm/commit/4b29f17))

Contributions to [brs](https://github.com/RokuCommunity/brs):

-   [@lvcabral (Marcelo Lv Cabral)](https://github.com/lvcabral)
    -   Added to CLI: colorization and commands `help`, `clear` and `vars` ([PR #49](https://github.com/RokuCommunity/brs/pull/49))
    -   Added support for bitwise NOT for numeric values ([PR #51](https://github.com/RokuCommunity/brs/pull/51))
    -   Implemented `roPath` component and fixed Interpreter Comparisons ([PR #50](https://github.com/RokuCommunity/brs/pull/50))
    -   Implemented `roByteArray` component ([PR #53](https://github.com/RokuCommunity/brs/pull/53))
    -   Implemented `Box()` function and improved boxing ([PR #54](https://github.com/RokuCommunity/brs/pull/54))
    -   Implemented `slice()` method in `roArray` under `ifArraySlice` ([PR #61](https://github.com/RokuCommunity/brs/pull/61))
    -   Implement `ifArraySizeInfo` in `roArray` ([PR #62](https://github.com/RokuCommunity/brs/pull/62))
    -   Fixed `print` semi-colon behavior ([PR #67](https://github.com/RokuCommunity/brs/pull/67))
    -   Fixed Unit Tests `.todo` and `.skip` ([PR #71](https://github.com/RokuCommunity/brs/pull/71))
    -   Fix `roDeviceInfo` method typo and some test cases ([PR #69](https://github.com/RokuCommunity/brs/pull/69))
    -   Implemented `Continue For/While` statements ([PR #70](https://github.com/RokuCommunity/brs/pull/70))
    -   Implement `try...catch` and `throw` ([PR #72](https://github.com/RokuCommunity/brs/pull/72))
